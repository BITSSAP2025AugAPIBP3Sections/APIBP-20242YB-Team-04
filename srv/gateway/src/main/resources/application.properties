server.port=8080
spring.application.name=gateway

# ===========================
# USER SERVICE ROUTES
# ===========================
spring.cloud.gateway.routes[0].id=user-service
spring.cloud.gateway.routes[0].uri=http://localhost:8081
spring.cloud.gateway.routes[0].predicates[0]=Path=/auth/**
spring.cloud.gateway.routes[0].predicates[1]=Path=/users/**
spring.cloud.gateway.routes[0].predicates[2]=Path=/roles/**
spring.cloud.gateway.routes[0].predicates[3]=Path=/organizer/**
spring.cloud.gateway.routes[0].predicates[4]=Path=/health
spring.cloud.gateway.routes[0].predicates[5]=Path=/version

# ===========================
# EVENT SERVICE ROUTES
# ===========================
spring.cloud.gateway.routes[1].id=event-service
spring.cloud.gateway.routes[1].uri=http://localhost:8083
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/v1/events/**
spring.cloud.gateway.routes[1].predicates[1]=Path=/events/**

# ===========================
# SEARCH SERVICE ROUTES
# ===========================
spring.cloud.gateway.routes[2].id=search
spring.cloud.gateway.routes[2].uri=http://localhost:8084
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/v1/search/**
spring.cloud.gateway.routes[2].predicates[1]=Path=/graphql

# ===========================
# BOOKING SERVICE ROUTES
# ===========================
spring.cloud.gateway.routes[3].id=booking-service
spring.cloud.gateway.routes[3].uri=http://localhost:8082
spring.cloud.gateway.routes[3].predicates[0]=Path=/bookings/**
spring.cloud.gateway.routes[3].predicates[0]=Path=/api/v1/stats/**
spring.cloud.gateway.routes[3].predicates[0]=Path=/graphql

# ===========================
# DASHBOARD SERVICE ROUTES
# ===========================
spring.cloud.gateway.routes[4].id=dashboard-service
spring.cloud.gateway.routes[4].uri=http://localhost:8085
spring.cloud.gateway.routes[4].predicates[0]=Path=/api/dashboard/**

# ===========================
# LOGGING LEVEL
# ===========================
logging.level.org.springframework.cloud.gateway=DEBUG
logging.level.reactor.netty=DEBUG

# enable/disable + rate settings per route (rate = tokens/sec, capacity = burst tokens)
# gateway.ratelimits.user-service.enabled=true
# gateway.ratelimits.user-service.rate=10
# gateway.ratelimits.user-service.capacity=20

# gateway.ratelimits.booking-service.enabled=true
# gateway.ratelimits.booking-service.rate=5
# gateway.ratelimits.booking-service.capacity=10

# gateway.ratelimits.event-service.enabled=true
# gateway.ratelimits.event-service.rate=5
# gateway.ratelimits.event-service.capacity=10

# # disable search-service (no limiting)
# gateway.ratelimits.search.enabled=false

spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedOrigins=*
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedMethods=*
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedHeaders=*

springdoc.swagger-ui.urls[0].name=Booking Service
springdoc.swagger-ui.urls[0].url=http://localhost:8082/v3/api-docs

springdoc.swagger-ui.urls[1].name=Event Service
springdoc.swagger-ui.urls[1].url=http://localhost:8083/v3/api-docs

springdoc.swagger-ui.urls[2].name=User Service
springdoc.swagger-ui.urls[2].url=http://localhost:8081/v3/api-docs

springdoc.swagger-ui.urls[3].name=Search Service
springdoc.swagger-ui.urls[3].url=http://localhost:8084/v3/api-docs

springdoc.swagger-ui.urls[4].name=Dashboard Service
springdoc.swagger-ui.urls[4].url=http://localhost:8085/v3/api-docs

