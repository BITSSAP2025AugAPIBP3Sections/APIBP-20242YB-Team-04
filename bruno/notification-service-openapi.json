{"openapi":"3.0.1","info":{"title":"Organizer Utility Service API","description":"Dual-purpose microservice providing:\n1. Dashboard API - Aggregates statistics from booking-service and event-service\n2. Notification Consumer - Consumes RabbitMQ messages for email notifications\n\nAccess the interactive API documentation at /swagger-ui.html\n","contact":{"name":"Eventix Team","email":"support@eventix.com"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8085","description":"Development server"}],"tags":[{"name":"Dashboard","description":"Organizer dashboard statistics endpoints"},{"name":"Test","description":"Testing and debugging endpoints (development only)"}],"paths":{"/api/test/send-notification":{"post":{"tags":["Test"],"summary":"Send test notification email","description":"Manually trigger a test notification email by publishing a message to RabbitMQ queue","operationId":"sendTestNotification","requestBody":{"description":"Notification message details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationMessage"},"examples":{"Test notification":{"description":"Test notification","value":{"userEmail":"test@example.com","userName":"Test User","eventName":"Spring Boot Workshop","bookingId":"test-001"}}}}},"required":true},"responses":{"500":{"description":"Failed to send message","content":{"text/plain":{}}},"200":{"description":"Test message sent successfully","content":{"text/plain":{}}}}}},"/api/test/health":{"get":{"tags":["Test"],"summary":"Service health check","description":"Returns the health status of the notification service","operationId":"health","responses":{"200":{"description":"Service is running","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/dashboard/organizer/{organizerId}/stats":{"get":{"tags":["Dashboard"],"summary":"Get organizer dashboard statistics","description":"Retrieves aggregated statistics for an event organizer. First fetches all events by organizerId from event-service, then fetches all bookings for those events from booking-service to calculate comprehensive statistics.","operationId":"getDashboardStats","parameters":[{"name":"organizerId","in":"path","description":"Unique identifier of the event organizer","required":true,"schema":{"type":"string"},"example":"org-123"}],"responses":{"503":{"description":"Service Unavailable - Dependent services are down"},"200":{"description":"Successfully retrieved dashboard statistics","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardStatsDTO"}}}}}}},"/api/dashboard/health":{"get":{"tags":["Dashboard"],"summary":"Health check for dashboard API","description":"Returns the health status of the dashboard API","operationId":"health_1","responses":{"200":{"description":"Dashboard API is running","content":{"*/*":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"NotificationMessage":{"required":["bookingId","eventName","userEmail","userName"],"type":"object","properties":{"userEmail":{"type":"string","description":"Email address of the user","example":"john.doe@example.com"},"userName":{"type":"string","description":"Full name of the user","example":"John Doe"},"eventName":{"type":"string","description":"Name of the event","example":"Spring Boot Workshop"},"bookingId":{"type":"string","description":"Unique booking identifier","example":"booking-abc-123"}},"description":"Notification message for booking confirmations"},"DashboardStatsDTO":{"type":"object","properties":{"totalEvents":{"type":"integer","description":"Total number of events created by the organizer","format":"int64","example":8},"publishedEvents":{"type":"integer","description":"Number of events that are currently published","format":"int64","example":6},"totalBookings":{"type":"integer","description":"Total number of bookings across all events","format":"int64","example":150},"confirmedAttendees":{"type":"integer","description":"Number of confirmed attendees","format":"int64","example":135},"totalRevenue":{"type":"number","description":"Total revenue generated from all bookings","example":45000.0}},"description":"Aggregated dashboard statistics for an event organizer"}}}}